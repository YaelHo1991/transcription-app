## פרויקט כללי יצביע על שני אלמנטים:
1. מדיה (עם כל הפירוק שלה וכל הדברים)
2. תמלול - שבו יש את כל הגרסאות השמורות לשחזור וכן, התמלול מקשור להערות ולדוברים ולדפי העזר.
3. בפרויקט ייתכנו מספר מדיות, ואז הוא יצביע לתמלול המתאים של כל מדיה

## פתיחת פרויקט חדש:
1. גרירת מדיה אל אזור שבו אין פרויקט (כלומר, אם המדיה לא משויכת מראש לפרויקט)
2. באמצעו סרגל הכלים הצדדי
3. בעמודת התמלול של דף הבית הראשי
4. באמצעות נגן המדיה - יהיה כפתור  +
5. גרירה של תיקייה לכל אחד מהאזורים המיועדים לפתיחת פרויקט חדש (גרירת תיקייה ולא גרירת מדיה)

התהליך של פתיחת פרויקט חדש הוא אחד, אבל הוא יהיה זמין בכל שלושת המקודים הללו - בדף הבית הראשי, מתוך סרגל הצד ומתוך נגן המדיה. 

## שם הפרויקט:
1. כשלוחצים על כפתור + באזור של הוספת פרויקט, נבחרת תיקייה שלמה. השם של הפרויקט שיוצג למשתמש יהיה שם התיקייה המקורי, אבל באחסון הנתונים, כלומר, הפרויקט הראשי שנפתח ומצביע למדיה ולתמלול - הוא יקבל שם משמעותי כלשהו, שיהיה קל לנהל. 
2. אותו דבר יקרה גם אם נגרור תיקייה שלמה לאזור של פתיחת פרויקט חדש - ייווצר פרויקט חדש שיקבל את שם התיקייה.
3. אם תיקייה שהוספנו כבר קיימת ברשימת הפרויקטים - לא תיווצר תיקייה חדשה, אלא יתווספו פרטי המדיה שקיימים בתיקייה החדשה ולא קיימים בפרויקט הקיים. 
4. אם נגרור מדיה לאזור שמיועד לפתיחת פרויקט חדש - ייפתח פרויקט חדש שבתוכו תהיה המדיה. השם יינתן אוטומטית - תאריך + שעה. 
5. כל פרויקט שפתחנו - ניתן לשנות לו את השם (לא את השם שמופיע באחסון הפנימי, אלא השם שמשתקף כשם הפרויקט, במקום שיהיה שם התיקייה בברירת המחדל, אפשר יהיה לשנות את השם)

## מדיה:
1. לכל פרויקט פתוח אפשר להוסיף מספר מדיות, בכל שלב. (מתוך נגן המדיה, סרגל הכלים הצדדי או העמודה הראשית)
2. הפרויקט הראשי יצביע על כל מדיה ועל התמלול המתאים לו (כולל כל הרכיבים של התמלול)
3. אותה מדיה לא יכולה להיות פעמיים באותו פרויקט. אבל אותה מדיה יכולה להופיע בפרויקטים אחרים. 


## הוספת מדיה:
1. באמצעות סרגל הכלים הצדדי
2. באמצעות דף הבית 
3. באמצעות נגן המדיה
4. באמעצות גרירה לכל אחד מהאזורים האלו
5. בעמודה שבעמוד הראשי אם נגרור מדיה אל תוך תיקיית פרויקט קיים - היא תתווסף לאותו פרויקט. אם נגרור אותה לאזור ריק  - יווצר פרויקט חדש. 
6. אותו כנ''ל עם סרגל הכלים הצדדי
7. אם נגרור מדיה לתוך המדיה הפלייר - אי אפשר להוסיף אותה לתוך האזור של הפרויקטים, רק לאזור של המדיה. אם אין פרויקטים בכלל והוספנו מדיה חדשה (בין אם באמצעות גרירה או ע- +, אז ייפתח פרויקט חדש)
8. כל מדיה חדשה שמתווספת לפרויקט יוצרת אוטומטית תיקיית תמלול על כל רכיביה, עם קבצים ריקים. 
9. גם תיקיית התמלול שנוצרת תקבל שם משמעותי לצרכי אחסון וניהול, אבל השם שיוצג למשתמש כקובץ התמלול הוא השם של קובץ התמלול ולא של התיקייה הראשית של התמלול
10. השם של הקובץ התמלול יהיה - 'שם התיקייה - שם המדיה'. לדוגמא, אם העלינו תיקייה בשם 123 ובה יש מדיה שנקראת רקפת, אז התמלול יהיה 123 - רקפת
11. בניווט ממדיה למדיה בנגן הפלייר, התמלול והדוברים וההערות ייטענו ישירות לרכיבים המתאימים שלהם. נגן המדיה יזכור איפה הוא עמד - הוא לא יחזור כל פעם להתחלה, אלא לנקודה בה הוא היה. 
12. בניווט מפרויקט לפרויקט תיטען המדיה שהייתה טעונה. כלומר, אם מדיה 3 הייתה טעונה בפרויקט אחד ומנוויטים אליו חזרה, אז מדיה 3 תיטען. 
13. לחיצה על פרויקט מתוך סרגל הכלים הצדדי טוענת את הפרויקט בנגן המדיה - לפי המדיה האחרונה שהופעלה בו (או המדיה הראשונה, אם טרם ניווטנו בפרויקט)


## מחיקה:
1. תמלול
2. מדיה
3. פרויקט

## תמלול:
1. הסרה לצמיתות של התמלול יכולה להתבצע רק מתוך תמלולים שלא פעילים. כלומר, משויכים למדיה שנמצאת בפרויקט. אם תמלול נמצא בתוך פרויקט - אפשר יהיה פשוט לרוקן את התוכן שלו - נוסיף כפתור CLEAR - שינקה את כל התוכן מכל הבלוקים
2. כדי למחוק תמלולים לצמיתות, יהיה חלון מיוחד שיאפשר לנווט בין התמלולים הקיימים בהיסטוריה ולטעון אותם אל תוך תצוגה מקדימה, בצורה יפה ומסודרת. 
3. תהיה אפשרות בחירה מרובה עבור מחיקת מספר תמלולים בבת אחת.
4. פעולת המחיקה - תסיר לצמיתות את כל התיקייה של התמלול, כולל ההערות והדוברים ודפי העזר. הפעולה תמחק את התיקייה לגמרי מהשרת - שלא ייווצר מצב של עומס, חייבת להיות אפשרות של מחיקה טוטאלית. 


## מחיקת מדיה:
1. במחיקת מדיה - נמחק הפוינטר לתמלול, מלבד המדיה עצמה. (ואז אפשר למחוק את התמלול)
2. תיקיית הפרויקט הראשית אינה נמחקת
3. אם הוספנו בהמשך את אותה מדיה - ייווצר פוינטר חדש, שיצביע על התמלול הקיים - מכיוון שיש שם משמעותי לתיקיות. 


## מחיקת פרויקט
1. במחיקת פרויקט שלם יימחקו כל נתוני המדיה וכל הפוינטרים מהסרבר - שלא יהיה עומס על הזיכרון, המחיקה חייבת להיות מוחלטת. תיקיות התמלול יישארו ולא יימחקו. 
2. אם לאחר מחיקת פרויקט העלינו שוב את אותה תיקייה - עם אותו שם בדיוק, ובפנים יש מדיות זהות למה שהיה בפרויקט המקורי - אז לפני יצירת תיקיית תמלול חדשה, קודם כל ננסה לחפש תמלול קיים שמשויך למדיה ולפרויקט הזה - ואם הוא קיים, הוא ייטען. 

## טעינת פרויקטים
1. בכל רענון חדש של העמוד ייטענו כל הפרויקטים הפעילים. 

erfect! Let me create a focused plan for the first phase -        
  folder upload with complete project structure and server
  considerations.

╭───────────────────────────────────────────────────────────────────╮
│ Ready to code?                                                    │
│                                                                   │
│ Here is Claude's plan:                                            │
│ ╭───────────────────────────────────────────────────────────────╮ │
│ │ 📁 PHASE 1: FOLDER UPLOAD WITH COMPLETE PROJECT STRUCTURE     │ │
│ │                                                               │ │
│ │ 🎯 Core Functionality:                                        │ │
│ │                                                               │ │
│ │ 1. Folder Upload Button in MediaPlayer, sidebar, and main     │ │
│ │ page (all using same function)                                │ │
│ │ 2. Complete Project Creation: Media + Transcription +         │ │
│ │ Speakers + Remarks + Helper files                             │ │
│ │ 3. Automatic Structure Generation: Based on folder name and   │ │
│ │ contained media files                                         │ │
│ │ 4. Backend Integration: Proper storage, backup system, and    │ │
│ │ session management                                            │ │
│ │                                                               │ │
│ │ 🏗️ Implementation Steps                                      │ │ 
│ │                                                               │ │
│ │ Step 1: Backend Project Structure                             │ │
│ │ - Extend existing projectService to handle folder-based       │ │
│ │ projects                                                      │ │
│ │ - Create project directory structure on server:               │ │
│ │ /projects/{projectId}/                                        │ │
│ │ - Auto-generate transcription files, speakers.json,           │ │
│ │ remarks.json for each media                                   │ │
│ │ - Implement backup system for large transcription files       │ │
│ │                                                               │ │
│ │ Step 2: Frontend Upload Component                             │ │
│ │ - Create FolderUploadButton component (reusable across all 3  │ │
│ │ zones)                                                        │ │
│ │ - File picker with folder selection (webkitdirectory)         │ │
│ │ - Progress indicators and validation                          │ │
│ │ - Error handling for unsupported file types                   │ │
│ │                                                               │ │
│ │ Step 3: Project Management                                    │ │
│ │ - Update existing project data structures                     │ │
│ │ - Implement project switching logic                           │ │
│ │ - Auto-create transcription structure: "FolderName -          │ │
│ │ MediaName"                                                    │ │
│ │ - Link media files to their transcription data                │ │
│ │                                                               │ │
│ │ Step 4: Integration Points                                    │ │
│ │ - Add upload button to MediaPlayer (in collapsed              │ │
│ │ ProjectNavigator area)                                        │ │
│ │ - Add to sidebar and main page using same component           │ │
│ │ - Update project loading to handle new structure              │ │
│ │ - Ensure backup system works with large files                 │ │
│ │                                                               │ │
│ │ 💾 Server Storage Strategy:                                   │ │
│ │                                                               │ │
│ │ Option A: Full Server Storage (Recommended)                   │ │
│ │ - All projects stored on server for cross-device access       │ │
│ │ - Implement file chunking for large media uploads             │ │
│ │ - Database stores metadata, files stored in organized         │ │
│ │ directory structure                                           │ │
│ │ - Automatic cleanup for old/unused projects                   │ │
│ │                                                               │ │
│ │ Option B: Hybrid Storage                                      │ │
│ │ - Metadata and transcriptions on server (smaller, text-based) │ │
│ │ - Media files stored locally with server references           │ │
│ │ - Projects partially accessible from other devices (text      │ │
│ │ without media)                                                │ │
│ │                                                               │ │
│ │ Estimated Storage per Project:                                │ │
│ │ - Small project (30min audio): ~50MB media + ~1MB             │ │
│ │ transcription data                                            │ │
│ │ - Large project (2hr video): ~500MB media + ~5MB              │ │
│ │ transcription data                                            │ │
│ │ - Database metadata: ~10KB per project                        │ │
│ │                                                               │ │
│ │ 🔧 Questions to Confirm:                                      │ │
│ │                                                               │ │
│ │ 1. Should we go with full server storage for cross-device     │ │
│ │ access?                                                       │ │
│ │ 2. Do you want file size limits for the initial               │ │
│ │ implementation?                                               │ │
│ │ 3. Should unsupported files in folders be ignored or cause    │ │
│ │ errors?                                                       │ │
│ │ 4. Preferred project naming: exact folder name or cleaned     │ │
│ │ version?                                                      │ │
│ ╰───────────────────────────────────────────────────────────────╯ │
│                                                                   │
│ Would you like to proceed?                                        │
│                                                                   │
│ ❯ 1. Yes, and auto-accept edits                                   │
│   2. Yes, and manually approve edits                              │
│   3. No, keep planning                                            │
│                                                                   │
╰───────────────────────────────────────────────────────────────────╯
